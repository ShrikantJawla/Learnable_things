<html lang="en">

<head>
    <%- include('../common/commonHeader'); %>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
            integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="./admin/assets/plugins/flatpickr/flatpickr.min.css" rel="stylesheet" />

</head>

<body>
    <style>
        .table-dark th{
            background-color: #94a1ba;
            color: black;
        }
        .table-dark td{
            background-color: #e7ebf3;
            color: #535353;
        }
        
    </style>
    <div class="app align-content-stretch d-flex flex-wrap">
        <%- include('../common/commonSidebar' , {sidebarData : sidebarDataByServer}); %>
            <%- include('../common/commonModals'); %>
            <div class="loader-show" id="loader">

            <div class="sbl-circ-path loader-content"></div>

        </div>
                <div class="app-container">
                    <div class="d-flex flex-column ">
                        <div class="app-content">
                            <h1 class="application-title pb-1">
                                Transaction Report
                            </h1>
                        </div>
                        <div style="display: flex; margin-bottom: 10px; gap: 10px; margin-left: auto; margin-top: 20px; font-size: 20px;">

                            New Claimed Payments : 
                            <label class="switch">
                                <input id="newClaimedSlider" type="checkbox">
                                <span id="newClaimedPaymentSlider" class="slider round"></span>
                            </label>

                            <button class="btn btn-primary" id="process_button">
                              Process
                            </button>
                            
                          </div>
                        <hr>
                        <div class="card ci-scrollX p-4" id="applications-table-wrapper">
                            <header class=" card-header d-flex justify-content-between">
                                <div class="d-flex align-items-center" style="margin-bottom: 20px; gap: 12px"
                                    id="entriesPerPageWrapper">
                                    <select name="entriesPerPage" id="entriesPerPage">
                                        <option selected value="200">200</option>
                                        <option value="100">100</option>
                                        <option value="50">50</option>
                                        <option value="25">25</option>
                                        <option value="10">10</option>
                                        <option value="5">5</option>
                                    </select>
                                    <label for="entriesPerPage" style="color: rgb(128, 128, 128)">Entries/Page</label>
                                </div>
                            </header>
                            
                            <table class="table">
                                <thead style="color: rgb( 128, 128, 128) !important;">

                                    <tr style="text-align: center" id="table-header" data-filter-value="0"
                                        data-filter="none">
                                        <th></th>
                                        <th data-filter-value="0" data-filter="id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="id">Id</span>
                                                <icon data-filter="id"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>
                                            <button class="Null -id" data-filter="-id">Null</button>
                                            <button class="notNull id" data-filter="id">Not Null</button>
                                        </th>


                                        <th data-filter-value="0" data-filter="main_table_id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="user_id">User Id</span>
                                                <icon data-filter="user_id"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -user_id" data-filter="-user_id">Null</button>
                                            <button class="notNull user_id" data-filter="user_id">Not Null</button>

                                        </th>
                                        <th data-filter-value="0" data-filter="id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="payment_type">Payment
                                                    Type</span>
                                                <icon data-filter="payment_type"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>
                                            <button class="Null -payment_type" data-filter="-payment_type">Null</button>
                                            <button class="notNull payment_type" data-filter="payment_type">Not
                                                Null</button>
                                        </th>
                                        <th data-filter-value="0" data-filter="payment_amount"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="payment_amount">Payment
                                                    Amount</span>
                                                <icon data-filter="payment_amount"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -payment_amount"
                                                data-filter="-payment_amount">Null</button>
                                            <button class="notNull payment_amount" data-filter="payment_amount">Not
                                                Null</button>

                                        </th>
                                        <th data-filter-value="0" data-filter="bank_name"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="bank_name">Bank Name</span>
                                                <icon data-filter="bank_name"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -bank_name" data-filter="-bank_name">Null</button>
                                            <button class="notNull bank_name" data-filter="bank_name">Not
                                                Null</button>

                                        </th>

                                        <th data-filter-value="0" data-filter="application_id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="application_id">Application Id</span>
                                                <icon data-filter="application_id"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -application_id"
                                                data-filter="-application_id">Null</button>
                                            <button class="notNull application_id" data-filter="application_id">Not
                                                Null</button>

                                        </th>



                                        <th data-filter-value="0" data-filter="referred_to_id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="referred_to_id">Referred to
                                                    Id</span>
                                                <icon data-filter="referred_to_id"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -referred_to_id"
                                                data-filter="-referred_to_id">Null</button>
                                            <button class="notNull referred_to_id" data-filter="referred_to_id">Not
                                                Null</button>

                                        </th>

                                        <th data-filter-value="0" data-filter="is_paid"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="is_paid">Is Paid</span>
                                                <icon data-filter="is_paid"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -is_paid" data-filter="-is_paid">Null</button>
                                            <button class="notNull is_paid" data-filter="is_paid">Not
                                                Null</button>

                                        </th>

                                        <th data-filter-value="0" data-filter="notes"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="notes">Notes</span>
                                                <icon data-filter="notes"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -notes" data-filter="-notes">Null</button>
                                            <button class="notNull notes" data-filter="notes">Not
                                                Null</button>

                                        </th>

                                        <th data-filter-value="0" data-filter="transaction_id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="transaction_id">Transaction Id</span>
                                                <icon data-filter="transaction_id"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -transaction_id" data-filter="-transaction_id">Null</button>
                                            <button class="notNull transaction_id" data-filter="transaction_id">Not
                                                Null</button>

                                        </th>

                                        <th data-filter-value="0" data-filter="cashback_claimed"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="cashback_claimed">Cashback Claimed</span>
                                                <icon data-filter="cashback_claimed"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -cashback_claimed"
                                                data-filter="-cashback_claimed">Null</button>
                                            <button class="notNull cashback_claimed" data-filter="cashback_claimed">Not
                                                Null</button>
                                        </th>

                                        <th data-filter-value="0" data-filter="method"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="method">Payment Method</span>
                                                <icon data-filter="method"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -method"
                                                data-filter="-method">Null</button>
                                            <button class="notNull method" data-filter="method">Not
                                                Null</button>
                                        </th>

                                        <th data-filter-value="0" data-filter="upi_id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="upi_id">UPI ID</span>
                                                <icon data-filter="upi_id"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -upi_id"
                                                data-filter="-upi_id">Null</button>
                                            <button class="notNull upi_id" data-filter="upi_id">Not
                                                Null</button>
                                        </th>
                                        <th data-filter-value="0" data-filter="is_upi_valid"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="is_upi_valid">Valid UPI</span>
                                                <icon data-filter="is_upi_valid"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -is_upi_valid"
                                                data-filter="-is_upi_valid">Null</button>
                                            <button class="notNull is_upi_valid" data-filter="is_upi_valid">Not
                                                Null</button>
                                        </th>
                                        <th data-filter-value="0" data-filter="is_bank_valid"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="is_bank_valid">Valid Bank</span>
                                                <icon data-filter="is_bank_valid"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -is_bank_valid"
                                                data-filter="-is_bank_valid">Null</button>
                                            <button class="notNull is_bank_valid" data-filter="is_bank_valid">Not
                                                Null</button>
                                        </th>
                                        <th data-filter-value="0" data-filter="upi_valid_name"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="upi_valid_name">Valid UPI Name</span>
                                                <icon data-filter="upi_valid_name"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -upi_valid_name"
                                                data-filter="-upi_valid_name">Null</button>
                                            <button class="notNull upi_valid_name" data-filter="upi_valid_name">Not
                                                Null</button>
                                        </th>

                                        <th data-filter-value="0" data-filter="payment_date"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="payment_date">Payment Date</span>
                                                <icon data-filter="payment_date"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -payment_date" data-filter="-payment_date">Null</button>
                                            <button class="notNull payment_date" data-filter="payment_date">Not
                                                Null</button>

                                        </th>

                                        <th data-filter-value="0" data-filter="created_at"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="created_at">Created
                                                    At</span>
                                                <icon data-filter="created_at"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -created_at" data-filter="-created_at">Null</button>
                                            <button class="notNull created_at" data-filter="created_at">Not
                                                Null</button>

                                        </th>

                                        <th data-filter-value="0" data-filter="published_at"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            <div class="d-flex ">
                                                <span style="cursor: pointer" data-filter="published_at">Updated
                                                    At</span>
                                                <icon data-filter="published_at"
                                                    class="material-icons material-symbols-outlined invisible"
                                                    style="cursor: pointer;">
                                                    straight
                                                </icon>
                                            </div>

                                            <button class="Null -published_at" data-filter="-published_at">Null</button>
                                            <button class="notNull published_at" data-filter="published_at">Not
                                                Null</button>

                                        </th>
                                        <th data-filter-value="0" data-filter="id"
                                            style="color: rgb(128, 128, 128) !important; text-align:center;">
                                            
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr id="table-filter-row" style="border-bottom: 1px solid rgb(199, 199, 199)">
                                        <th>
                                            <input style="margin: 5px;" type="checkbox" id="select_all">
                                        </th>
                                        <th>
                                            <input type="text" name="id" class="form-control" style="width:70px;"
                                                id="id">
                                        </th>
                                        <th> <input type="text" name="user_id" class="form-control"
                                                style="width:70px;" id="user_id"> </th>

                                        <th> <select class="form-control" id="payment_type" name="payment_type"
                                                style="min-width:max-content;">
                                                <option value="">Select Type</option>
                                                <option value="cashback">cashback</option>
                                                <option value="referral">referral</option>
                                            </select> </th>
                                        <th>
                                            <input type="text" name="payment_amount" class="form-control" 
                                                id="payment_amount">
                                        </th>
                                        <th>
                                            <input type="text" name="bank_name" class="form-control"  id="bank_name">
                                        </th>
                                        <th>
                                            <input type="text" name="application_id" class="form-control"  id="application_id">
                                        </th>
                                        <th>
                                            <input type="text" name="referred_to_id" class="form-control" 
                                                id="referred_to_id">
                                        </th>
                                        <th>
                                            <select class="form-control" style="min-width:88px;"
                                                id="is_paid" name="is_paid">
                                                <option selected value="">Select </option>
                                                <option value="true">true</option>
                                                <option value="false">false</option>
                                            </select>
                                        </th>
                                        <th>
                                            <input type="text" name="notes" class="form-control" 
                                                id="notes">
                                        </th>
                                        <th>
                                            <input type="text" name="transaction_id" class="form-control" 
                                                id="transaction_id">
                                        </th>
                                        <th>
                                            <select class="form-control" style="min-width:88px;"
                                            id="cashback_claimed" name="cashback_claimed">
                                                <option selected value="">Select</option>
                                                <option value="true">true</option>
                                                <option value="false">false</option>
                                            </select>
                                        </th>
                                        <th>
                                            <select class="form-control" style="min-width:88px;"
                                            id="method" name="method">
                                                <option selected value="">Select </option>
                                                <option value="upi">upi</option>
                                                <option value="bank">bank</option>
                                            </select>
                                        </th>
                                        <th>
                                            <input type="text" name="upi_id" class="form-control" 
                                                id="upi_id">
                                        </th>
                                        <th>
                                            <select class="form-control" style="min-width:88px;"
                                            id="is_upi_valid" name="is_upi_valid">
                                                <option selected value="">Select </option>
                                                <option value="true">true</option>
                                                <option value="false">false</option>
                                            </select>
                                        </th>
                                        <th>
                                            <select class="form-control" style="min-width:88px;"
                                            id="is_bank_valid" name="is_bank_valid">
                                                <option selected value="">Select </option>
                                                <option value="true">true</option>
                                                <option value="false">false</option>
                                            </select>
                                        </th>
                                        <th>
                                            <input type="text" name="upi_valid_name" class="form-control" 
                                                id="upi_valid_name">
                                        </th>
                                        <th>
                                            <input class="flatpickr flatpickr-input date-range" id="payment_date"
                                                type="text" placeholder="Select Date.." data-id="range"
                                                readonly="readonly">
                                        </th>
                                        <th>
                                            <input class="flatpickr flatpickr-input date-range" id="created_at"
                                                type="text" placeholder="Select Date.." data-id="range"
                                                readonly="readonly">
                                        </th>
                                        <th>
                                            <input class="flatpickr flatpickr-input date-range" id="payment_date"
                                                type="text" placeholder="Select Date.." data-id="range"
                                                readonly="readonly">
                                        </th>
                                        <th>
                                            
                                        </th>
                                    </tr>
                                </tbody>
                                <tbody id="data-to-show">

                                 
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="10" style="text-align: center;  color: black !important;">
                                            <div
                                                class="display: flex; align-items: center; justify-content: center; flex-direction: column;">

                                                <span class="material-icons material-symbols-outlined"
                                                    style=" position: relative; top: 4px;right: 8px; font-size: 18px; color: white; background: rgb( 128, 128,128) !important; padding: 2px;border-radius: 50%; cursor: pointer;"
                                                    id="prevPage">
                                                    west
                                                </span>

                                                <label for="pageNo" style="
                                                    margin-right: 10px;
                                                    color: rgb(
                                                        128,
                                                        128,
                                                        128
                                                    ) !important;
                                                ">Page No:</label>

                                                <input type="number" style="
                                                    width: 50px;
                                                    display: inline;
                                                    height: 20px;
                                                    border-radius: 0 !important;
                                                    padding-right: 0 !important;
                                                    padding-left: 2px !important;
                                                " id="page-no" name="pageNo" class="form-control" max="1" min="1"
                                                    value="1">


                                                <span style="
                                                    margin-left: 10px;
                                                    color: rgb(
                                                        128,
                                                        128,
                                                        128
                                                    ) !important;
                                                " id="pages">/ 0</span>


                                                <span style="
                                                    margin-left: 10px;
                                                    color: rgb(
                                                        128,
                                                        128,
                                                        128
                                                    ) !important;
                                                " id="entries">(0 entries)</span>

                                                <span class="material-icons material-symbols-outlined" style="
                                                            position: relative;
                                                            top: 4px;
                                                            left: 8px;
                                                            font-size: 18px;
                                                            color: white;
                                                            background: rgb(
                                                                128,
                                                                128,
                                                                128
                                                            ) !important;
                                                            padding: 2px;
                                                            border-radius: 50%;
                                                            cursor: pointer;
                                                        " id="nextPage">
                                                    east
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
    </div><a style="display: none;"></a>
    <div class="modal fade" id="process_data_modal" tabindex="-1"
                                aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">
                                                Process Data Report
                                            </h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <table class="table table-dark text-center">
                                                <thead>
                                                  <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Id</th>
                                                    <th scope="col">Status</th>
                                                    <th colspan="2" scope="col">Message</th>
                                                  </tr>
                                                </thead>
                                                <tbody id="response-table-body">
                                                  
                                                </tbody>
                                              </table>
                                        </div>
                                        <div class="modal-footer">
                                           
                                        </div>
                                    </div>
                                </div>
                            </div>
    <script src="./admin/assets/plugins/jquery/jquery-3.5.1.min.js"></script>
    <script src="./admin/assets/plugins/bootstrap/js/popper.min.js"></script>
    <script src="./admin/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="./admin/assets/plugins/perfectscroll/perfect-scrollbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="./admin/assets/plugins/pace/pace.min.js"></script>
    <script src="./admin/assets/plugins/highlight/highlight.pack.js"></script>
    <script src="./admin/assets/js/main.min.js"></script>
    <script src="./admin/assets/js/custom.js"></script>
    <script src="./admin/assets/plugins/flatpickr/flatpickr.js"></script>
    <script src="./admin/assets/js/utils/blockModalsEsacping.js"></script>
    
    <script src="/./admin/assets/js/transactionReports.js"></script>
</body>

</html>